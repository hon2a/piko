var Base = require('Base');

var ResourceHandlers = module.exports = Base.extend({

	config: null,

	constructor: function (config) {
		this.config = fn.merge({
			id: null	// mandatory if handlers other than index/create are provided
		}, config);
	},
	
	getItem: function (req) {
		return req[this.config.id] || null;
	},
	
// exporter

	exportHandlers: function () {
		var methods = ['index', 'create', 'load', 'show', 'update', 'destroy'],
			ret = {};

		methods.forEach(function (methodName) {
			if (this[methodName]) {
				ret[methodName] = fn.proxy(this[methodName], this);
			}
		}, this);
		
		if (this.config.id) {
			ret.id = this.config.id;
		}

		return ret;
	},

// handler methods

	index: null,

	create: null,

	load: null,

	show: null,

	update: null,

	destroy: null
	
});