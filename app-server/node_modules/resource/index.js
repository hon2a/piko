var Resource = require('./Resource');

module.exports = {

	ResourceHandlers: require('./ResourceHandlers'),

	DbTableHandlers: require('./DbTableHandlers'),
	
	FileStorageHandlers: require('./FileStorageHandlers'),

	Resource: Resource,

// generic factory method

	create: function (handlers, middleware) {
		middleware = middleware || [];
		
		var resource = new Resource();
		middleware.forEach(function (mw) {
			resource.use(mw);
		});
		return resource.setHandlers(handlers).exportHandlers();
	},

// resource middleware makers

	authenticator: require('./mw/authenticator'),

	validator: require('./mw/validator'),

// helper functions

	expandConfig: require('./expandConfig')
	
};