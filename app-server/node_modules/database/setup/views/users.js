var DbViewInitializer = require('../DbViewInitializer'),
	fn = require('functions');

var ViewUsersInitializer = module.exports = DbViewInitializer.extend({

	create: function (callback) {
		this.adapter.create({
			query: "select `users`.`id` AS `id`,`users`.`username` AS `username`,`users`.`password` AS `password`,`users`.`name` AS `name`,`users`.`email` AS `email`,`users`.`lastAccess` AS `lastAccess`,`users`.`activationCode` AS `activationCode`,`users`.`typeId` AS `typeId`,`usertypes`.`name` AS `type`,`usertypes`.`privileges` AS `privileges` from (`users` join `usertypes` on((`users`.`typeId` = `usertypes`.`id`))) where 1;"
		}, callback);
	}

});