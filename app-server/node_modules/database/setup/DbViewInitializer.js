var DbTableInitializer = require('./DbTableInitializer'),
	DbViewAdapter = require('../DbViewAdapter');

var DbViewInitializer = module.exports = DbTableInitializer.extend({

	viewDefinitionQuery: null,

	constructor: function (adapter, query) {
		this.adapter = (adapter instanceof DbViewAdapter) ? adapter :
				new DbViewAdapter(adapter);
		this.viewDefinitionQuery = query;
	},
	
	create: function (callback) {
		this.adapter.create({
			query: this.viewDefinitionQuery
		}, callback);
	}

});