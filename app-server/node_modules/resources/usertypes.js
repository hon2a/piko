var fn = require('functions'),
	User = require('User'),
	resource = require('resource');

// resource definition

var usertypes = module.exports = (new resource.Resource())
	.use(resource.authenticator('manageUsertypes'))
	.use(resource.loadChecker('usertype'))
	.use(resource.validator({
		all: {
			privileges: 'int'
		},
		update: {
			id: 'id'
		}
	}))
	.setHandlers(new resource.DbTableHandlerSet({
		name: 'usertype',
		table: 'usertypes',
		transform: User.transformPrivileges
	}))
	.exportHandlers();
